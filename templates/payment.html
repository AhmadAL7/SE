<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Payment</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/payment.css') }}">
</head>
<body>
    <div class="container">
        <h2>Payment for Table {{ table_number }}</h2>

        <div class="order-details">
            <p><strong>Order ID:</strong> {{ order_id }}</p>
            <ul>
                {% for item in menu_items %}
                    <li>{{ item.menu.description }} x{{ item.quantity }} - ${{ item.menu.price * item.quantity }}</li>
                {% endfor %}
            </ul>
            <p class="total"><strong>Total:</strong> ${{ total_price }}</p>
        </div>

        <form method="POST" action="{{ url_for('order.process_payment', order_id=order_id) }}">
            <label for="amount">Enter Payment Amount:</label>
            <input type="number" name="amount" id="amount" step="0.01" required>
            {% if error %}
                <p class="error">{{ error }}</p>
            {% elif change %}
                <p class="success">Change: ${{ change }}</p>
            {% endif %}
            <button type="submit">Process Payment</button>
        </form>
    </div>
</body>
</html>
